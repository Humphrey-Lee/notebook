{"file":"admin-C3juT9M_.js","mappings":";;;;;;;;;;;;;;;;AAuCA,UAAM,QAAQ,IAAI,EAAE;AACpB,UAAM,UAAU,IAAI,EAAE;AACtB,UAAM,SAAS,IAAI,EAAE;AACrB,UAAM,UAAU,IAAI,KAAK;AACzB,UAAM,iBAAiB,IAAI,EAAE;AAC7B,UAAM,eAAe,IAAI,EAAE;;mBAtCpBA,eAAAC,WAAA,EAAA,OAAM,yBAAwB,GAAA,MAAA,CAAA,8GAKf,MAAK,KAAA,wHAKL,OAAM,KAAA,yJAKH,QAAO,KAAA,oDAGY,QAAO,KAAA,IAAA,cAAA,qCAC1C,QAAO,QAAA,WAAA,IAAA;UAGH,eAAc,OAAA;2EAA6B,eAAc,KAAA,CAAA,MAAA;AAAA;;;UAEzD,aAAY,OAAA;yEAA2B,aAAY,KAAA,CAAA,MAAA;AAAA;;;;;;;;;;;;;;","names":["_ssrRenderAttrs","_mergeProps"],"sources":["../../../../pages/admin.vue"],"sourcesContent":["<!--\n  frtAdmin.vue\n  作用：博客文章发布页面，供管理员发布新文章。\n  包含：标题、内容、作者输入框，发布按钮。点击发布后通过$fetch提交到后端。\n-->\n<template>\n  <div class=\"blog-publish-container\">\n    <h2>发布新博客文章</h2>\n    <!-- 标题输入框 -->\n    <label>\n      标题：\n      <input v-model=\"title\" type=\"text\" placeholder=\"请输入文章标题\" />\n    </label>\n    <!-- 作者输入框 -->\n    <label>\n      作者：\n      <input v-model=\"author\" type=\"text\" placeholder=\"请输入作者名\" />\n    </label>\n    <!-- 内容输入框 -->\n    <label>\n      内容：\n      <textarea v-model=\"content\" placeholder=\"请输入文章内容\"></textarea>\n    </label>\n    <!-- 发布按钮 -->\n    <button @click=\"publishBlog\" :disabled=\"loading\">\n      {{ loading ? '发布中...' : '发布' }}\n    </button>\n    <!-- 发布成功提示 -->\n    <p v-if=\"successMessage\" class=\"success-message\">{{ successMessage }}</p>\n    <!-- 错误提示 -->\n    <p v-if=\"errorMessage\" class=\"error-message\">{{ errorMessage }}</p>\n  </div>\n</template>\n\n<script setup>\n// 引入Vue的响应式API\nimport { ref } from 'vue'\n\n// 定义表单数据的响应式变量\nconst title = ref('')\nconst content = ref('')\nconst author = ref('')\nconst loading = ref(false)\nconst successMessage = ref('')\nconst errorMessage = ref('')\n\n// 发布博客文章的方法\nconst publishBlog = async () => {\n  // 清空提示信息\n  successMessage.value = ''\n  errorMessage.value = ''\n\n  // 简单校验，防止空内容提交\n  if (!title.value || !content.value || !author.value) {\n    errorMessage.value = '请填写所有字段！'\n    return\n  }\n\n  loading.value = true\n  try {\n    // 使用$fetch向后端POST数据\n    await $fetch('http://localhost:8000/api/bacBlog', {\n      method: 'POST',\n      body: {\n        title: title.value,\n        content: content.value,\n        author: author.value\n        // 不需要传递时间，后端自动生成\n      }\n    })\n    // 发布成功，清空表单\n    title.value = ''\n    content.value = ''\n    author.value = ''\n    successMessage.value = '发布成功！'\n  } catch (err) {\n    // 捕获错误并提示\n    errorMessage.value = '发布失败，请稍后重试。'\n  } finally {\n    loading.value = false\n  }\n}\n</script>\n\n<style scoped>\n.blog-publish-container {\n  max-width: 500px;\n  margin: 40px auto;\n  padding: 24px;\n  border: 1px solid #eee;\n  border-radius: 8px;\n  background: #fafbfc;\n  box-shadow: 0 2px 8px rgba(0,0,0,0.04);\n}\nlabel {\n  display: block;\n  margin-bottom: 16px;\n  font-weight: bold;\n}\ninput, textarea {\n  width: 100%;\n  margin-top: 4px;\n  padding: 8px;\n  border: 1px solid #ccc;\n  border-radius: 4px;\n  font-size: 16px;\n  box-sizing: border-box;\n}\ntextarea {\n  min-height: 100px;\n  resize: vertical;\n}\nbutton {\n  padding: 10px 24px;\n  background: #409eff;\n  color: #fff;\n  border: none;\n  border-radius: 4px;\n  font-size: 16px;\n  cursor: pointer;\n  transition: background 0.2s;\n}\nbutton:disabled {\n  background: #a0cfff;\n  cursor: not-allowed;\n}\n.success-message {\n  color: #52c41a;\n  margin-top: 16px;\n}\n.error-message {\n  color: #ff4d4f;\n  margin-top: 16px;\n}\n</style>\n\n<!--\n更改次数：1\n主要内容：实现了博客文章发布表单，包含标题、内容、作者输入框，点击发布按钮后用$fetch以POST方式提交到/api/bacBlog，发布成功后清空表单并提示用户。\n用途：供管理员发布新博客文章。\n-->\n"],"version":3}