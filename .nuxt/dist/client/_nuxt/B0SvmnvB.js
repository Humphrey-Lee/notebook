import{_ as x,r as a,c as d,a as l,g as f,d as i,h as p,v as c,t as m,o as b}from"./DRHVNoOD.js";const _={class:"blog-publish-container"},h=["disabled"],V={key:0,class:"success-message"},k={key:1,class:"error-message"},B={__name:"admin",setup(M){const t=a(""),s=a(""),o=a(""),r=a(!1),v=a(""),u=a(""),g=async()=>{if(v.value="",u.value="",!t.value||!s.value||!o.value){u.value="请填写所有字段！";return}r.value=!0;try{await $fetch("http://localhost:8000/api/bacBlog",{method:"POST",body:{title:t.value,content:s.value,author:o.value}}),t.value="",s.value="",o.value="",v.value="发布成功！"}catch{u.value="发布失败，请稍后重试。"}finally{r.value=!1}};return(y,e)=>(b(),d("div",_,[e[6]||(e[6]=l("h2",null,"发布新博客文章",-1)),l("label",null,[e[3]||(e[3]=i(" 标题： ")),p(l("input",{"onUpdate:modelValue":e[0]||(e[0]=n=>t.value=n),type:"text",placeholder:"请输入文章标题"},null,512),[[c,t.value]])]),l("label",null,[e[4]||(e[4]=i(" 作者： ")),p(l("input",{"onUpdate:modelValue":e[1]||(e[1]=n=>o.value=n),type:"text",placeholder:"请输入作者名"},null,512),[[c,o.value]])]),l("label",null,[e[5]||(e[5]=i(" 内容： ")),p(l("textarea",{"onUpdate:modelValue":e[2]||(e[2]=n=>s.value=n),placeholder:"请输入文章内容"},null,512),[[c,s.value]])]),l("button",{onClick:g,disabled:r.value},m(r.value?"发布中...":"发布"),9,h),v.value?(b(),d("p",V,m(v.value),1)):f("",!0),u.value?(b(),d("p",k,m(u.value),1)):f("",!0)]))}},T=x(B,[["__scopeId","data-v-82a0ec03"]]);export{T as default};
